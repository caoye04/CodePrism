<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodePrism - 代码规范分析</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- 左侧：代码展示区 -->
        <div class="code-panel">
            <div id="upload-area" class="upload-area">
                <p>点击上传 or 拖拽要分析的C文件</p>
                <input type="file" id="file-input" accept=".c,.h" style="display: none;">
            </div>
            <div id="code-display" class="code-display" style="display: none;">
                <!-- 删除按钮 -->
                <button id="clear-code-btn" class="clear-code-btn" title="删除代码">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
                <!-- 代码容器 -->
                <div class="code-container">
                    <pre><code id="code-content" class="language-c"></code></pre>
                </div>
            </div>
        </div>

        <!-- 右侧 -->
        <div class="right-panel">
            <!-- 输入控制区 -->
            <div class="input-panel">
                <input 
                    type="text" 
                    id="rule-input" 
                    class="rule-input" 
                    placeholder="输入要分析的规则（可选，如：R_01_01, D_04_01）"
                >
                <button id="analyze-btn" class="analyze-btn">开始分析</button>
            </div>

            <!-- 结果展示区 -->
            <div class="result-panel">
                <!-- 背景Logo -->
                <div class="background-overlay">
                    <!-- 选项1：使用图片Logo（取消注释以使用） -->
                    <!-- <img src="{{ url_for('static', filename='logo.png') }}" alt="CodePrism" class="background-logo"> -->
                    
                    <!-- 选项2：使用文字Logo（默认） -->
                    <div class="background-text">CodePrism</div>
                </div>
                
                <!-- 结果内容 -->
                <div id="result-content" class="result-content"></div>
            </div>
        </div>
    </div>

    <!-- 全局悬浮提示框 -->
    <div id="tooltip" class="custom-tooltip"></div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>